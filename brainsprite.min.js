function brainsprite(b){var a={};a.canvas=document.getElementById(b.canvas);a.context=a.canvas.getContext("2d");a.canvasY=document.createElement("canvas");a.contextY=a.canvasY.getContext("2d");a.canvasZ=document.createElement("canvas");a.contextZ=a.canvasZ.getContext("2d");a.colorBackGround=typeof b.colorBackGround!=="undefined"?b.colorBackGround:"black";a.sprite=document.getElementById(b.sprite);a.nbCol=a.sprite.width/b.nbSlice.Y;a.nbRow=a.sprite.height/b.nbSlice.Z;a.nbSlice={X:a.nbCol*a.nbRow,Y:b.nbSlice.Y,Z:b.nbSlice.Z};a.widthCanvas={X:0,Y:0,Z:0};a.heightCanvas={X:0,Y:0,Z:0,max:0};a.numSlice={X:Math.floor(a.nbSlice.X/2),Y:Math.floor(a.nbSlice.Y/2),Z:Math.floor(a.nbSlice.Z/2)};a.draw=function(f,e){a.numSlice[e]=f;a.widthCanvas.X=Math.floor(a.canvas.parentElement.clientWidth*(a.nbSlice.Y/(2*a.nbSlice.X+a.nbSlice.Y)));a.widthCanvas.Y=Math.floor(a.canvas.parentElement.clientWidth*(a.nbSlice.X/(2*a.nbSlice.X+a.nbSlice.Y)));a.widthCanvas.Z=Math.floor(a.canvas.parentElement.clientWidth*(a.nbSlice.X/(2*a.nbSlice.X+a.nbSlice.Y)));a.heightCanvas.X=Math.floor(a.widthCanvas.X*a.nbSlice.Z/a.nbSlice.Y);a.heightCanvas.Y=Math.floor(a.widthCanvas.Y*a.nbSlice.Z/a.nbSlice.X);a.heightCanvas.Z=Math.floor(a.widthCanvas.Z*a.nbSlice.Y/a.nbSlice.X);a.heightCanvas.max=Math.max(a.heightCanvas.X,a.heightCanvas.Y,a.heightCanvas.Z);if(a.canvas.width!=(a.widthCanvas.X+a.widthCanvas.Y+a.widthCanvas.Z)){a.canvas.width=a.widthCanvas.X+a.widthCanvas.Y+a.widthCanvas.Z;a.canvas.height=a.heightCanvas.max}a.context.fillStyle=a.colorBackGround;switch(e){case"X":var c=((a.numSlice.X)%a.nbCol);var d=(a.numSlice.X-c)/a.nbCol;a.context.fillRect(0,0,a.widthCanvas.X,a.heightCanvas.max);a.context.drawImage(a.sprite,c*a.nbSlice.Y,d*a.nbSlice.Z,a.nbSlice.Y,a.nbSlice.Z,0,(a.heightCanvas.max-a.heightCanvas.X)/2,a.widthCanvas.X,a.heightCanvas.X);break;case"Y":a.context.fillRect(a.widthCanvas.X,0,a.widthCanvas.Y,a.heightCanvas.max);a.canvasY.width=a.nbSlice.X;a.canvasY.height=a.nbSlice.Z;for(xx=0;xx<a.nbSlice.X;xx++){var c=(xx%a.nbCol);var d=(xx-c)/a.nbCol;a.contextY.drawImage(a.sprite,c*a.nbSlice.Y+a.numSlice.Y,d*a.nbSlice.Z,1,a.nbSlice.Z,xx,0,1,a.nbSlice.Z)}a.context.drawImage(a.canvasY,0,0,a.nbSlice.X,a.nbSlice.Z,a.widthCanvas.X,(a.heightCanvas.max-a.heightCanvas.Y)/2,a.widthCanvas.Y,a.heightCanvas.Y);case"Z":a.context.fillRect(a.widthCanvas.X+a.widthCanvas.Y,0,a.widthCanvas.Z,a.heightCanvas.max);a.canvasZ.width=a.nbSlice.X;a.canvasZ.height=a.nbSlice.Y;a.contextZ.rotate(-Math.PI/2);a.contextZ.translate(-a.nbSlice.Y,0);for(xx=0;xx<a.nbSlice.X;xx++){var c=(xx%a.nbCol);var d=(xx-c)/a.nbCol;a.contextZ.drawImage(a.sprite,c*a.nbSlice.Y,d*a.nbSlice.Z+a.numSlice.Z,a.nbSlice.Y,1,0,xx,a.nbSlice.Y,1)}a.context.drawImage(a.canvasZ,0,0,a.nbSlice.X,a.nbSlice.Y,a.widthCanvas.X+a.widthCanvas.Y,(a.heightCanvas.max-a.heightCanvas.Z)/2,a.widthCanvas.Z,a.heightCanvas.Z)}};a.clickBrain=function(c){var d=c.pageX-a.canvas.offsetLeft;var f=c.pageY-a.canvas.offsetTop;if(d<a.widthCanvas.X){a.draw(Math.round(a.nbSlice.Y*(d/a.widthCanvas.X)),"Y");a.draw(Math.round(a.nbSlice.Z*(f-((a.heightCanvas.max-a.heightCanvas.X)/2))/a.heightCanvas.X),"Z")}else{if(d<(a.widthCanvas.X+a.widthCanvas.Y)){d=d-a.widthCanvas.X;a.draw(Math.round(a.nbSlice.X*(d/a.widthCanvas.Y)),"X");a.draw(Math.round(a.nbSlice.Z*(f-((a.heightCanvas.max-a.heightCanvas.Y)/2))/a.heightCanvas.Y),"Z")}else{d=d-a.widthCanvas.X-a.widthCanvas.Y;a.draw(Math.round(a.nbSlice.X*(d/a.widthCanvas.Z)),"X");a.draw(Math.round(a.nbSlice.Y*(1-((f-((a.heightCanvas.max-a.heightCanvas.Z)/2))/a.heightCanvas.Z))),"Y")}}};a.canvas.addEventListener("click",function(c){a.clickBrain(c)},false);a.draw(a.numSlice.X,"X");a.draw(a.numSlice.Y,"Y");a.draw(a.numSlice.Z,"Z");return a};